{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\n\nconst instance = axios.create({\n  baseURL: 'https://pixabay.com/api/',\n    params: {\n        key: '48884243-7c5376715b9f7ca682882ed04',\n        image_type: 'photo',\n        orientation: 'horizontal',\n        safesearch: 'true',\n        \n    }\n\n});\n\n\n\nexport function getImgs(imgsOf) { \n    return instance.get('', { params: { q: `${imgsOf}` } }).then(r => {\n        if (r.data.hits.length === 0) {\n            iziToast.error({\n                title: 'Error',\n                message: 'Sorry, there are no images matching your search query. Please try again!',\n                titleColor: 'white',\n                messageColor: 'white',\n                backgroundColor: 'red',\n                theme: 'dark', \n            });\n            return [];\n        }\n        return r.data.hits;\n    })\n        .catch(error => {\n            iziToast.error({\n                title: 'Erorr',\n                messages: 'Please try again',\n                titleColor: 'white',\n                messageColor: 'white',\n                backgroundColor: 'red',\n                theme: 'dark', \n            });\n            return [];\n        });\n }\n\n","import { getImgs } from \"./pixabay-api\";\n\n\nconst refs = {\n    gallery : document.querySelector(\".js-gallery\"),\n}\n\nexport function createGallery(imgs) {\n    resetGallery();\n    const markup = createMarkup(imgs);\n    refs.gallery.innerHTML = markup;\n    refs.gallery.classList.add('gallery');\n}\n\nexport function resetGallery() { \n\n        refs.gallery.innerHTML = '';\n\n}\n\nfunction imgTemplate(img) { \nconst {webformatURL, largeImageURL, tags, likes, views, comments, downloads} = img;\n    return `<li class=\"js-gallery-item\">\n        <a href=\"${largeImageURL}\">\n        <img src=\"${webformatURL}\" alt=\"${tags}\" width=\"360\" height=\"158\"/>\n        </a>\n        <ul class=\"stats\">\n          <li class=\"stats-item\">Likes<span class=\"stats-span\">${likes}</span></li>\n          <li class=\"stats-item\">Comments<span class=\"stats-span\">${comments}</span></li>\n          <li class=\"stats-item\">Views<span class=\"stats-span\">${views}</span></li>\n          <li class=\"stats-item\">Downloads<span class=\"stats-span\">${downloads}</span></li>\n        </ul>\n      </li>`;\n}\n\nfunction createMarkup(arr) { \n    return arr.map(imgTemplate).join('');\n}\n\n","import { getImgs } from './js/pixabay-api.js';\nimport { createGallery, resetGallery } from './js/render-functions.js'\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\n\nconst refs = {\n    searchForm: document.querySelector(\".js-search-form\"),\n    loader: document.querySelector('.js-loader'),\n    gallery: document.querySelector('.js-gallery'),\n}\n\nrefs.searchForm.addEventListener(\"submit\", handleSubmit);\n\nfunction handleSubmit(e) { \n    e.preventDefault();\n\n\n    refs.loader.style.display = 'block';\n\n    const request = e.target.elements['search-bar'].value;\n\n    resetGallery();\n\n    getImgs(request).then(imgs => {\n        createGallery(imgs);\n        galleryModals.refresh();\n        refs.loader.style.display = 'none';\n    });\n\n    e.target.reset();\n}\n\nlet galleryModals = new SimpleLightbox('.gallery a');\n\n"],"names":["instance","axios","getImgs","imgsOf","r","iziToast","error","refs","createGallery","imgs","resetGallery","markup","createMarkup","imgTemplate","img","webformatURL","largeImageURL","tags","likes","views","comments","downloads","arr","handleSubmit","e","request","galleryModals","SimpleLightbox"],"mappings":"owBAKA,MAAMA,EAAWC,EAAM,OAAO,CAC5B,QAAS,2BACP,OAAQ,CACJ,IAAK,qCACL,WAAY,QACZ,YAAa,aACb,WAAY,MAEf,CAEL,CAAC,EAIM,SAASC,EAAQC,EAAQ,CAC5B,OAAOH,EAAS,IAAI,GAAI,CAAE,OAAQ,CAAE,EAAG,GAAGG,CAAM,EAAE,CAAI,CAAA,EAAE,KAAKC,GACrDA,EAAE,KAAK,KAAK,SAAW,GACvBC,EAAS,MAAM,CACX,MAAO,QACP,QAAS,2EACT,WAAY,QACZ,aAAc,QACd,gBAAiB,MACjB,MAAO,MACvB,CAAa,EACM,IAEJD,EAAE,KAAK,IACjB,EACI,MAAME,IACHD,EAAS,MAAM,CACX,MAAO,QACP,SAAU,mBACV,WAAY,QACZ,aAAc,QACd,gBAAiB,MACjB,MAAO,MACvB,CAAa,EACM,GACV,CACT,CC1CA,MAAME,EAAO,CACT,QAAU,SAAS,cAAc,aAAa,CAClD,EAEO,SAASC,EAAcC,EAAM,CAChCC,IACA,MAAMC,EAASC,EAAaH,CAAI,EAChCF,EAAK,QAAQ,UAAYI,EACzBJ,EAAK,QAAQ,UAAU,IAAI,SAAS,CACxC,CAEO,SAASG,GAAe,CAEvBH,EAAK,QAAQ,UAAY,EAEjC,CAEA,SAASM,EAAYC,EAAK,CAC1B,KAAM,CAAC,aAAAC,EAAc,cAAAC,EAAe,KAAAC,EAAM,MAAAC,EAAO,MAAAC,EAAO,SAAAC,EAAU,UAAAC,CAAS,EAAIP,EAC3E,MAAO;AAAA,mBACQE,CAAa;AAAA,oBACZD,CAAY,UAAUE,CAAI;AAAA;AAAA;AAAA,iEAGmBC,CAAK;AAAA,oEACFE,CAAQ;AAAA,iEACXD,CAAK;AAAA,qEACDE,CAAS;AAAA;AAAA,YAG9E,CAEA,SAAST,EAAaU,EAAK,CACvB,OAAOA,EAAI,IAAIT,CAAW,EAAE,KAAK,EAAE,CACvC,CC7BA,MAAMN,EAAO,CACT,WAAY,SAAS,cAAc,iBAAiB,EACpD,OAAQ,SAAS,cAAc,YAAY,EAC3C,QAAS,SAAS,cAAc,aAAa,CACjD,EAEAA,EAAK,WAAW,iBAAiB,SAAUgB,CAAY,EAEvD,SAASA,EAAaC,EAAG,CACrBA,EAAE,eAAc,EAGhBjB,EAAK,OAAO,MAAM,QAAU,QAE5B,MAAMkB,EAAUD,EAAE,OAAO,SAAS,YAAY,EAAE,MAEhDd,IAEAR,EAAQuB,CAAO,EAAE,KAAKhB,GAAQ,CAC1BD,EAAcC,CAAI,EAClBiB,EAAc,QAAO,EACrBnB,EAAK,OAAO,MAAM,QAAU,MACpC,CAAK,EAEDiB,EAAE,OAAO,OACb,CAEA,IAAIE,EAAgB,IAAIC,EAAe,YAAY"}